From 7c790d7b4ca7941774243796055d91ec04874891 Mon Sep 17 00:00:00 2001
From: Martin Braun <martin.braun@ettus.com>
Date: Thu, 22 Sep 2016 16:00:31 -0700
Subject: [PATCH 19/30] cmake: Check for python requests, warn if not found
 (does not fail though)

---
 host/CMakeLists.txt       | 8 +++++++-
 host/utils/CMakeLists.txt | 3 +++
 2 files changed, 10 insertions(+), 1 deletion(-)

diff --git a/host/CMakeLists.txt b/host/CMakeLists.txt
index 24d5cd0..29be39e 100644
--- a/host/CMakeLists.txt
+++ b/host/CMakeLists.txt
@@ -245,11 +245,17 @@ PYTHON_CHECK_MODULE(
 )
 
 PYTHON_CHECK_MODULE(
-    "Mako templates 0.4 or greater"
+    "Mako templates 0.4.2 or greater"
     "mako" "mako.__version__ >= '0.4.2'"
     HAVE_PYTHON_MODULE_MAKO
 )
 
+PYTHON_CHECK_MODULE(
+    "requests 2.0 or greater"
+    "requests" "requests.__version__ >= '2.0'"
+    HAVE_PYTHON_MODULE_REQUESTS
+)
+
 ########################################################################
 # Create Uninstall Target
 ########################################################################
diff --git a/host/utils/CMakeLists.txt b/host/utils/CMakeLists.txt
index 9f0a6af..e891e73 100644
--- a/host/utils/CMakeLists.txt
+++ b/host/utils/CMakeLists.txt
@@ -130,6 +130,9 @@ IF(LINUX)
         COMPONENT utilities
     )
 ENDIF(LINUX)
+IF(NOT HAVE_PYTHON_MODULE_REQUESTS)
+    MESSAGE(WARNING "Module requests not found -- uhd_images_downloader.py will not work without it.")
+ENDIF(NOT HAVE_PYTHON_MODULE_REQUESTS)
 
 IF(ENABLE_USRP2)
     SET(burners
-- 
2.1.4

