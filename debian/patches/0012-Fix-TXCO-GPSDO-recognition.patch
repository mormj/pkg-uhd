From ab6cb077329d5e23be8a15bac272f3d55a79afc1 Mon Sep 17 00:00:00 2001
From: michael-west <michael.west@ettus.com>
Date: Thu, 8 Sep 2016 11:09:25 -0700
Subject: [PATCH 12/30] Fix TXCO GPSDO recognition

---
 host/lib/usrp/gps_ctrl.cpp | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/host/lib/usrp/gps_ctrl.cpp b/host/lib/usrp/gps_ctrl.cpp
index 908f84a..bfc243d 100644
--- a/host/lib/usrp/gps_ctrl.cpp
+++ b/host/lib/usrp/gps_ctrl.cpp
@@ -211,7 +211,9 @@ public:
     while(boost::get_system_time() < comm_timeout) {
       reply = _recv();
       //known devices are JL "FireFly" and "LC_XO"
-      if(reply.find("FireFly") != std::string::npos or reply.find("LC_XO") != std::string::npos) {
+      if(reply.find("FireFly") != std::string::npos
+         or reply.find("LC_XO") != std::string::npos
+         or reply.find("GPSTCXO") != std::string::npos) {
         _gps_type = GPS_TYPE_INTERNAL_GPSDO;
         break;
       } else if(reply.substr(0, 3) == "$GP") {
-- 
2.1.4

