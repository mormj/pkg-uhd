From 06fb769714324c9c45d0bb8d3c4f9bd373a5d674 Mon Sep 17 00:00:00 2001
From: michael-west <michael.west@ettus.com>
Date: Fri, 2 May 2014 17:54:23 -0700
Subject: [PATCH 23/31] BUG #465: UHD: "Error: Connection refused" for USRP1
 and B100 - Added catch for unhandled error

---
 host/lib/transport/nirio/rpc/rpc_client.cpp |    5 +++++
 1 file changed, 5 insertions(+)

diff --git a/host/lib/transport/nirio/rpc/rpc_client.cpp b/host/lib/transport/nirio/rpc/rpc_client.cpp
index f8dc26b..0c4b8fe 100644
--- a/host/lib/transport/nirio/rpc/rpc_client.cpp
+++ b/host/lib/transport/nirio/rpc/rpc_client.cpp
@@ -104,6 +104,11 @@ rpc_client::rpc_client (
     } catch (boost::exception&) {
         UHD_LOG << "rpc_client connection request cancelled/aborted." << std::endl;
         _exec_err.assign(boost::asio::error::connection_aborted, boost::asio::error::get_system_category());
+#if BOOST_VERSION < 104700
+    } catch (std::exception& e) {
+        UHD_LOG << "rpc_client connection error: " << e.what() << std::endl;
+        _exec_err.assign(boost::asio::error::connection_aborted, boost::asio::error::get_system_category());
+#endif
     }
 }
 
-- 
1.7.10.4

